From 45982e958402f0b915fbc0076a45a482358bdf45 Mon Sep 17 00:00:00 2001
From: 12101111 <w12101111@gmail.com>
Date: Fri, 6 Feb 2026 11:37:48 +0800
Subject: [PATCH 03/11] Don't run npm install for test

---
 build/npm/dirs.ts        | 7 -------
 build/npm/postinstall.ts | 2 --
 2 files changed, 9 deletions(-)

diff --git a/build/npm/dirs.ts b/build/npm/dirs.ts
index 48d76e2731a..d71b9cbe292 100644
--- a/build/npm/dirs.ts
+++ b/build/npm/dirs.ts
@@ -53,13 +53,6 @@ export const dirs = [
 	'extensions/vscode-test-resolver',
 	'remote',
 	'remote/web',
-	'test/automation',
-	'test/integration/browser',
-	'test/monaco',
-	'test/smoke',
-	'test/mcp',
-	'.vscode/extensions/vscode-selfhost-import-aid',
-	'.vscode/extensions/vscode-selfhost-test-provider',
 ];
 
 if (existsSync(`${import.meta.dirname}/../../.build/distro/npm`)) {
diff --git a/build/npm/postinstall.ts b/build/npm/postinstall.ts
index b6a934f74b3..4da6eaab37d 100644
--- a/build/npm/postinstall.ts
+++ b/build/npm/postinstall.ts
@@ -216,5 +216,3 @@ for (const dir of dirs) {
 	npmInstall(dir, { env });
 }
 
-child_process.execSync('git config pull.rebase merges');
-child_process.execSync('git config blame.ignoreRevsFile .git-blame-ignore-revs');
-- 
2.53.0

