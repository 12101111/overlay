From 356f6e275f185c0ec145e58b160c992caa25ba3a Mon Sep 17 00:00:00 2001
From: 12101111 <w12101111@gmail.com>
Date: Sun, 4 Jan 2026 21:29:55 +0800
Subject: [PATCH 03/11] Don't run npm install for test

---
 build/npm/dirs.ts        | 7 -------
 build/npm/postinstall.ts | 3 ---
 2 files changed, 10 deletions(-)

diff --git a/build/npm/dirs.ts b/build/npm/dirs.ts
index 48d76e2731a..d71b9cbe292 100644
--- a/build/npm/dirs.ts
+++ b/build/npm/dirs.ts
@@ -53,13 +53,6 @@ export const dirs = [
 	'extensions/vscode-test-resolver',
 	'remote',
 	'remote/web',
-	'test/automation',
-	'test/integration/browser',
-	'test/monaco',
-	'test/smoke',
-	'test/mcp',
-	'.vscode/extensions/vscode-selfhost-import-aid',
-	'.vscode/extensions/vscode-selfhost-test-provider',
 ];
 
 if (existsSync(`${import.meta.dirname}/../../.build/distro/npm`)) {
diff --git a/build/npm/postinstall.ts b/build/npm/postinstall.ts
index c4bbbf52960..3ef3afc9200 100644
--- a/build/npm/postinstall.ts
+++ b/build/npm/postinstall.ts
@@ -181,6 +181,3 @@ for (const dir of dirs) {
 
 	npmInstall(dir, opts);
 }
-
-child_process.execSync('git config pull.rebase merges');
-child_process.execSync('git config blame.ignoreRevsFile .git-blame-ignore-revs');
-- 
2.52.0

