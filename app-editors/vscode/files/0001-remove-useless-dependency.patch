From 2b3fcb9ebaeb4980579de23917611a2da21900b8 Mon Sep 17 00:00:00 2001
From: 12101111 <w12101111@gmail.com>
Date: Fri, 6 May 2022 14:39:07 +0800
Subject: [PATCH 01/12] remove useless dependency

---
 package.json |   5 ---
 yarn.lock    | 120 ---------------------------------------------------
 2 files changed, 125 deletions(-)

diff --git a/package.json b/package.json
index 9ac0994ecec..313236fd7a6 100644
--- a/package.json
+++ b/package.json
@@ -10,7 +10,6 @@
   "private": true,
   "scripts": {
     "test": "echo Please run any of the test scripts from the scripts folder.",
-    "test-browser": "npx playwright install && node test/unit/browser/index.js",
     "test-browser-no-install": "node test/unit/browser/index.js",
     "test-node": "mocha test/unit/node/index.js --delay --ui=tdd --timeout=5000 --exit",
     "preinstall": "node build/npm/preinstall.js",
@@ -48,7 +47,6 @@
     "compile-web": "node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js compile-web",
     "watch-web": "node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js watch-web",
     "eslint": "node build/eslint",
-    "playwright-install": "node build/azure-pipelines/common/installPlaywright.js",
     "compile-build": "node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js compile-build",
     "compile-extensions-build": "node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js compile-extensions-build",
     "minify-vscode": "node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js minify-vscode",
@@ -96,7 +94,6 @@
   },
   "devDependencies": {
     "7zip": "0.0.6",
-    "@playwright/test": "1.21.0",
     "@types/applicationinsights": "0.20.0",
     "@types/cookie": "^0.3.3",
     "@types/copy-webpack-plugin": "^6.0.3",
@@ -124,8 +121,6 @@
     "@types/yazl": "^2.4.2",
     "@typescript-eslint/eslint-plugin": "^5.10.0",
     "@typescript-eslint/parser": "^5.10.0",
-    "@vscode/telemetry-extractor": "^1.9.6",
-    "@vscode/test-web": "^0.0.22",
     "ansi-colors": "^3.2.3",
     "asar": "^3.0.3",
     "chromium-pickle-js": "^0.2.0",
diff --git a/yarn.lock b/yarn.lock
index 3e537569240..27e6753522b 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -1046,46 +1046,6 @@
     node-addon-api "^3.2.1"
     node-gyp-build "^4.3.0"
 
-"@playwright/test@1.21.0":
-  version "1.21.0"
-  resolved "https://registry.yarnpkg.com/@playwright/test/-/test-1.21.0.tgz#611dd3f469c539e5be3a764395effa40735742a6"
-  integrity sha512-jvgN3ZeAG6rw85z4u9Rc4uyj6qIaYlq2xrOtS7J2+CDYhzKOttab9ix9ELcvBOCHuQ6wgTfxfJYdh6DRZmQ9hg==
-  dependencies:
-    "@babel/code-frame" "7.16.7"
-    "@babel/core" "7.16.12"
-    "@babel/helper-plugin-utils" "7.16.7"
-    "@babel/plugin-proposal-class-properties" "7.16.7"
-    "@babel/plugin-proposal-dynamic-import" "7.16.7"
-    "@babel/plugin-proposal-export-namespace-from" "7.16.7"
-    "@babel/plugin-proposal-logical-assignment-operators" "7.16.7"
-    "@babel/plugin-proposal-nullish-coalescing-operator" "7.16.7"
-    "@babel/plugin-proposal-numeric-separator" "7.16.7"
-    "@babel/plugin-proposal-optional-chaining" "7.16.7"
-    "@babel/plugin-proposal-private-methods" "7.16.11"
-    "@babel/plugin-proposal-private-property-in-object" "7.16.7"
-    "@babel/plugin-syntax-async-generators" "7.8.4"
-    "@babel/plugin-syntax-json-strings" "7.8.3"
-    "@babel/plugin-syntax-object-rest-spread" "7.8.3"
-    "@babel/plugin-syntax-optional-catch-binding" "7.8.3"
-    "@babel/plugin-transform-modules-commonjs" "7.16.8"
-    "@babel/preset-typescript" "7.16.7"
-    colors "1.4.0"
-    commander "8.3.0"
-    debug "4.3.3"
-    expect "27.2.5"
-    jest-matcher-utils "27.2.5"
-    json5 "2.2.1"
-    mime "3.0.0"
-    minimatch "3.0.4"
-    ms "2.1.3"
-    open "8.4.0"
-    pirates "4.0.4"
-    playwright-core "1.21.0"
-    rimraf "3.0.2"
-    source-map-support "0.4.18"
-    stack-utils "2.0.5"
-    yazl "2.5.1"
-
 "@sindresorhus/is@^0.14.0":
   version "0.14.0"
   resolved "https://registry.yarnpkg.com/@sindresorhus/is/-/is-0.14.0.tgz#9fb3a3cf3132328151f353de4632e01e52102bea"
@@ -1609,33 +1569,6 @@
   resolved "https://registry.yarnpkg.com/@vscode/sudo-prompt/-/sudo-prompt-9.3.1.tgz#c562334bc6647733649fd42afc96c0eea8de3b65"
   integrity sha512-9ORTwwS74VaTn38tNbQhsA5U44zkJfcb0BdTSyyG6frP4e8KMtHuTXYmwefe5dpL8XB1aGSIVTaLjD3BbWb5iA==
 
-"@vscode/telemetry-extractor@^1.9.6":
-  version "1.9.6"
-  resolved "https://registry.yarnpkg.com/@vscode/telemetry-extractor/-/telemetry-extractor-1.9.6.tgz#1b8d31c2ea841b33e5aa4e9c69a01f011cfc3add"
-  integrity sha512-G5m3NRNXW5ePsm4dft64EiOOopYin/3vQ6mBwWKkgnRkD8LivVvtDBjDMwZGsN5lF0w4t+ugb+IE4bXfMhZMcg==
-  dependencies:
-    "@vscode/ripgrep" "^1.14.2"
-    command-line-args "^5.2.1"
-    ts-morph "^13.0.3"
-
-"@vscode/test-web@^0.0.22":
-  version "0.0.22"
-  resolved "https://registry.yarnpkg.com/@vscode/test-web/-/test-web-0.0.22.tgz#8767c80e7b16e73e78cf30da93d4dff5d4db148a"
-  integrity sha512-sm4WYidw26eFb1AReC8w5y4aOMdBb5ma5x3ukRJcun9iUB1ajz2nM18rxiYAVimUzrIMQHr9WqC8HYBYP8aNKQ==
-  dependencies:
-    "@koa/router" "^10.1.1"
-    decompress "^4.2.1"
-    decompress-targz "^4.1.1"
-    http-proxy-agent "^5.0.0"
-    https-proxy-agent "^5.0.0"
-    koa "^2.13.4"
-    koa-morgan "^1.0.1"
-    koa-mount "^4.0.0"
-    koa-static "^5.0.0"
-    minimist "^1.2.5"
-    playwright "^1.18.1"
-    vscode-uri "^3.0.3"
-
 "@vscode/vscode-languagedetection@1.0.21":
   version "1.0.21"
   resolved "https://registry.yarnpkg.com/@vscode/vscode-languagedetection/-/vscode-languagedetection-1.0.21.tgz#89b48f293f6aa3341bb888c1118d16ff13b032d3"
@@ -8948,59 +8881,6 @@ pkg-dir@^4.1.0, pkg-dir@^4.2.0:
   dependencies:
     find-up "^4.0.0"
 
-playwright-core@1.21.0:
-  version "1.21.0"
-  resolved "https://registry.yarnpkg.com/playwright-core/-/playwright-core-1.21.0.tgz#1b68e87f4fd2fc5653def1e61ccdef6845c604a6"
-  integrity sha512-yDGVs9qaaW6WiefgR7wH1CGt9D6D/X4U3jNpIzH0FjjrrWLCOYQo78Tu3SkW8X+/kWlBpj49iWf3QNSxhYc12Q==
-  dependencies:
-    colors "1.4.0"
-    commander "8.3.0"
-    debug "4.3.3"
-    extract-zip "2.0.1"
-    https-proxy-agent "5.0.0"
-    jpeg-js "0.4.3"
-    mime "3.0.0"
-    pixelmatch "5.2.1"
-    pngjs "6.0.0"
-    progress "2.0.3"
-    proper-lockfile "4.1.2"
-    proxy-from-env "1.1.0"
-    rimraf "3.0.2"
-    socks-proxy-agent "6.1.1"
-    stack-utils "2.0.5"
-    ws "8.4.2"
-    yauzl "2.10.0"
-    yazl "2.5.1"
-
-playwright-core@=1.18.1:
-  version "1.18.1"
-  resolved "https://registry.yarnpkg.com/playwright-core/-/playwright-core-1.18.1.tgz#a5cf3f212d10692382e2acd1f7bc8c9ff9bbb849"
-  integrity sha512-NALGl8R1GHzGLlhUApmpmfh6M1rrrPcDTygWvhTbprxwGB9qd/j9DRwyn4HTQcUB6o0/VOpo46fH9ez3+D/Rog==
-  dependencies:
-    commander "^8.2.0"
-    debug "^4.1.1"
-    extract-zip "^2.0.1"
-    https-proxy-agent "^5.0.0"
-    jpeg-js "^0.4.2"
-    mime "^2.4.6"
-    pngjs "^5.0.0"
-    progress "^2.0.3"
-    proper-lockfile "^4.1.1"
-    proxy-from-env "^1.1.0"
-    rimraf "^3.0.2"
-    socks-proxy-agent "^6.1.0"
-    stack-utils "^2.0.3"
-    ws "^7.4.6"
-    yauzl "^2.10.0"
-    yazl "^2.5.1"
-
-playwright@^1.18.1:
-  version "1.18.1"
-  resolved "https://registry.yarnpkg.com/playwright/-/playwright-1.18.1.tgz#45c2ca6ee25c44e336985de9b51955727b5f17cf"
-  integrity sha512-8EaX9EtbtAoMq5tnzIsoA3b/V86V/6Mq2skuOU4qEw+5OVxs1lwesDwmjy/RVU1Qfx5UuwSQzhp45wyH22oa+A==
-  dependencies:
-    playwright-core "=1.18.1"
-
 plist@^3.0.1:
   version "3.0.5"
   resolved "https://registry.yarnpkg.com/plist/-/plist-3.0.5.tgz#2cbeb52d10e3cdccccf0c11a63a85d830970a987"
-- 
2.35.1

