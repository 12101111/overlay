From eea0df16ab0d0db1fe1a0c153a92a61cb015cf23 Mon Sep 17 00:00:00 2001
From: 12101111 <w12101111@gmail.com>
Date: Fri, 9 Oct 2020 09:40:05 +0800
Subject: [PATCH 5/9] Run yarn install in offline mode

---
 extensions/css-language-features/package.json  | 2 +-
 extensions/html-language-features/package.json | 2 +-
 extensions/json-language-features/package.json | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/extensions/css-language-features/package.json b/extensions/css-language-features/package.json
index 29f056e413..a304c0a0a3 100644
--- a/extensions/css-language-features/package.json
+++ b/extensions/css-language-features/package.json
@@ -22,7 +22,7 @@
     "compile": "gulp compile-extension:css-language-features-client compile-extension:css-language-features-server",
     "watch": "gulp watch-extension:css-language-features-client watch-extension:css-language-features-server",
     "test": "mocha",
-    "postinstall": "cd server && yarn install",
+    "postinstall": "cd server && yarn install --ignore-optional --frozen-lockfile --offline --no-progress",
     "install-client-next": "yarn add vscode-languageclient@next"
   },
   "categories": [
diff --git a/extensions/html-language-features/package.json b/extensions/html-language-features/package.json
index c2c211ccba..139ea6e9a5 100644
--- a/extensions/html-language-features/package.json
+++ b/extensions/html-language-features/package.json
@@ -20,7 +20,7 @@
   "scripts": {
     "compile": "npx gulp compile-extension:html-language-features-client compile-extension:html-language-features-server",
     "watch": "npx gulp watch-extension:html-language-features-client watch-extension:html-language-features-server",
-    "postinstall": "cd server && yarn install",
+    "postinstall": "cd server && yarn install --ignore-optional --frozen-lockfile --offline --no-progress",
     "install-client-next": "yarn add vscode-languageclient@next"
   },
   "categories": [
diff --git a/extensions/json-language-features/package.json b/extensions/json-language-features/package.json
index a8e3231a93..6582230bca 100644
--- a/extensions/json-language-features/package.json
+++ b/extensions/json-language-features/package.json
@@ -20,7 +20,7 @@
     "scripts": {
         "compile": "gulp compile-extension:json-language-features-client compile-extension:json-language-features-server",
         "watch": "gulp watch-extension:json-language-features-client watch-extension:json-language-features-server",
-        "postinstall": "cd server && yarn install",
+        "postinstall": "cd server && yarn install --ignore-optional --frozen-lockfile --offline --no-progress",
         "install-client-next": "yarn add vscode-languageclient@next"
     },
     "categories": [
-- 
2.29.2

